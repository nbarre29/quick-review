PASS IF:

    Lock Request is submitted, and the current date/time is IN ( Seller Settings - Lock Desk Hours ) and NOT IN (the Global Settings - Lock Desk Hours)
	AND  The Sum of Commitment Loan Balance from the current date with lock date/time IN (Seller Settings - Lock Desk Hours ) and NOT IN (Global Settings - Lock Desk Hours ) from Aggregate Pipeline Data < Seller Settings - Overnight Lock Limit
     OR Seller Settings - Overnight Commitment Limit = NULL.

ELSE FAIL



Explanation of the Rule:

This rule is designed to determine whether a mortgage lock request should be approved based on certain conditions involving timing, commitment loan balances, and the seller's specific settings.
Conditions for PASS (approval):

    Lock Request is submitted:

        A request is made to lock the interest rate for a mortgage.

    Condition 1: Current date/time is within Seller Settings - Lock Desk Hours, but not within Global Settings - Lock Desk Hours:

        Seller Settings - Lock Desk Hours: These are the hours set by the seller during which they accept lock requests.

        Global Settings - Lock Desk Hours: These are the general lock hours set across the entire system or organization, not specific to one seller.

        The current date/time must be within the Seller Settings - Lock Desk Hours, but NOT within the Global Settings - Lock Desk Hours. This ensures that lock requests are processed only during the seller's allowed hours and are not restricted by the global lock desk hours.

    Condition 2: The Sum of Commitment Loan Balance from the current date with lock date/time within Seller Settings - Lock Desk Hours, but not within Global Settings - Lock Desk Hours, and from Aggregate Pipeline Data is less than Seller Settings - Overnight Lock Limit:

        Sum of Commitment Loan Balance: This refers to the total loan amount that has been committed (agreed upon) by the lender.

        Aggregate Pipeline Data: This represents the total loan data across all active loans in the pipeline.

        The total sum of the committed loan balance for the current date and time (factoring in the seller's lock hours) should be less than the Seller Settings - Overnight Lock Limit. This ensures that the seller does not exceed their allowed overnight commitment limit.

    Condition 3: Seller Settings - Overnight Commitment Limit = NULL:

        If the seller has not set an Overnight Commitment Limit (i.e., this value is NULL), the condition passes automatically. This means that if no limit is defined, the lock request will not be restricted by any overnight commitment limits.

ELSE FAIL (rejection):

    If any one of the conditions is not met (i.e., the lock request falls outside the seller's allowed lock hours, or the commitment balance exceeds the overnight limit), the lock request will fail (i.e., it will be rejected).

Summary of the Rule:

    The lock request is approved (PASS) if:

        The current date/time is within the Seller's Lock Desk Hours but not within the Global Lock Desk Hours.

        The total commitment loan balance (for the current date and lock time) is less than the Seller's Overnight Lock Limit, or if the Overnight Commitment Limit is NULL (no limit is set).

    If any condition is not satisfied (e.g., lock hours or limit exceeded), the lock request is rejected (FAIL).